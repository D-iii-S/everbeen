<?xml version="1.0" encoding="UTF-8"?>

<sect2
	xml:id="been.user.cli.reference.csvcs"
	xmlns="http://docbook.org/ns/docbook"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:xml="http://www.w3.org/XML/1998/namespace"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:xi="http://www.w3.org/2001/XInclude"
	xsi:schemaLocation="http://docbook.org/ns/docbook ../../../../docbook-5.0/xsd/docbook.xsd"
>
	<title>Core Services Module</title>
	<subtitle>Starting the BEEN Framework</subtitle>

	<para>The Core Services Module starts and stops core BEEN
	<glossterm baseform="service">services</glossterm> and retrieves information about them.
	It comunicates with the <glossterm>Task Manager</glossterm> directly. Log records and output
	of the core services are also available through this module.</para>

	<para>Module identifier: <command>csvcs</command></para>
	
	<table xml:id="been.user.cli.reference.csvcs.table" tocentry="1" frame="none">
		<title>Actions of the Core Services Module</title>

		<tgroup cols="3" align="left" colsep="0" rowsep="0">
			<colspec colnum="1" colname="action" colwidth="3*"/>
			<colspec colnum="2" colname="option" colwidth="3*"/>
			<colspec colnum="3" colname="desc" colwidth="9*"/>
			
			<tbody valign="top">
			
				<!-- list -->
				<row>
					<entry morerows="3">
						<command>list</command>
					</entry>
					<entry namest="option" nameend="desc">
						List core <glossterm baseform="service">services</glossterm> of the BEEN
						framework and basic information about them.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>pattern</option></emphasis><footnote>
						<para>Expressions recognized by
						<classname>java.util.regex.Pattern</classname> are accepted.
						When unspecified, no filtering will take place.</para></footnote>
					</entry>
					<entry>
						A regular expression to filter service names.
					</entry>
				</row>
				<row>
					<entry><option>all</option></entry>
					<entry>
						Also list core services that are currently not running.
					</entry>
				</row>
				<row>
					<entry><emphasis role="strong"><option>STDOUT</option></emphasis></entry>
					<entry>
						<code>[name] [id] [host] [status]</code>
					</entry>
				</row>
				
				<!-- start -->
				<row><entry namest="action" nameend="desc"/></row>
				<row>
					<entry morerows="3">
						<command>start</command>
					</entry>
					<entry namest="option" nameend="desc">
						Starts a BEEN core <glossterm>service</glossterm>.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>service</option></emphasis><footnote
						xml:id="been.user.cli.reference.csvcs.mandatory">
							<para>This parameter is mandatory.</para>
						</footnote>
					</entry>
					<entry>
						Name of the core service to start.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>host</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.mandatory"/>
					</entry>
					<entry>
						Name of the host the service will run on.
					</entry>
				</row>
				<row>
					<entry><option>debug</option></entry>
					<entry>
						Start the core service in debug mode.
					</entry>
				</row>
				
				<!-- stop -->
				<row><entry namest="action" nameend="desc"/></row>
				<row>
					<entry morerows="1">
						<command>stop</command>
					</entry>
					<entry namest="option" nameend="desc">
						Stops a BEEN core <glossterm>service</glossterm>.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>service</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.mandatory"/>
					</entry>
					<entry>
						Name of the core service to stop.
					</entry>
				</row>
				
				<!-- restart -->
				<row><entry namest="action" nameend="desc"/></row>
				<row>
					<entry morerows="2">
						<command>restart</command>
					</entry>
					<entry namest="option" nameend="desc">
						Restarts a BEEN core <glossterm>service</glossterm> on the same host.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>service</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.mandatory"/>
					</entry>
					<entry>
						Name of the service to restart.
					</entry>
				</row>
				<row>
					<entry><option>debug</option></entry>
					<entry>
						Start the core service in debug mode.
					</entry>
				</row>
				
				<!-- start-all -->
				<row><entry namest="action" nameend="desc"/></row>
				<row>
					<entry morerows="2">
						<command>start-all</command>
					</entry>
					<entry namest="option" nameend="desc">
						Starts all BEEN core <glossterm baseform="service">services</glossterm>
						that are not running.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>host</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.mandatory"/>
					</entry>
					<entry>
						Name of the host the services will run on.
					</entry>
				</row>
				<row>
					<entry><option>debug</option></entry>
					<entry>
						Start the core services in debug mode.
					</entry>
				</row>
				
				<!-- stop-all -->
				<row><entry namest="action" nameend="desc"/></row>
				<row>
					<entry morerows="0">
						<command>stop-all</command>
					</entry>
					<entry namest="option" nameend="desc">
						Stops all BEEN core <glossterm baseform="service">services</glossterm> that
						are running.
					</entry>
				</row>
				
				<!-- logs -->
				<row><entry namest="action" nameend="desc"/></row>
				<row>
					<entry morerows="5">
						<command>logs</command>
					</entry>
					<entry namest="option" nameend="desc">
						Retrieves log messages produced by a BEEN core <glossterm>service</glossterm>.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>service</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.mandatory"/>
					</entry>
					<entry>
						Name of the service.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>from</option></emphasis><footnote
						xml:id="been.user.cli.reference.csvcs.lbound">
						<para>When unspecified, there will be no lower bound.</para></footnote>
					</entry>
					<entry>
						Number of the first line to output.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>to</option></emphasis><footnote
						xml:id="been.user.cli.reference.csvcs.ubound">
						<para>When unspecified, there will be no upper bound.</para></footnote>
					</entry>
					<entry>
						Number of the last line to output.
					</entry>
				</row>
				<row>
					<entry><option>numbers</option></entry>
					<entry>
						Output line numbers.
					</entry>
				</row>
				<row>
					<entry><emphasis role="strong"><option>STDOUT</option></emphasis></entry>
					<entry>
						<code>[number]</code><footnote xml:id="been.user.cli.reference.csvcs.number">
							<para>This field only appears when the <option>numbers</option> flag
							is present.</para>
						</footnote><code> [timestamp] [host] [context] [task] [level] [message]</code>
					</entry>
				</row>
				
				<!-- stdout -->
				<row><entry namest="action" nameend="desc"/></row>
				<row>
					<entry morerows="5">
						<command>stdout</command>
					</entry>
					<entry namest="option" nameend="desc">
						Retrieves the standard output produced by a BEEN core
						<glossterm>service</glossterm>.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>service</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.mandatory"/>
					</entry>
					<entry>
						Name of the service.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>from</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.lbound"/>
					</entry>
					<entry>
						Number of the first line to output.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>to</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.ubound"/>
					</entry>
					<entry>
						Number of the last line to output.
					</entry>
				</row>
				<row>
					<entry><option>numbers</option></entry>
					<entry>
						Output line numbers.
					</entry>
				</row>
				<row>
					<entry><emphasis role="strong"><option>STDOUT</option></emphasis></entry>
					<entry>
						<code>[number]</code><footnoteref
						linkend="been.user.cli.reference.csvcs.number"/><code> [line]</code>
					</entry>
				</row>
				
				<!-- stderr -->
				<row><entry namest="action" nameend="desc"/></row>
				<row>
					<entry morerows="5">
						<command>stderr</command>
					</entry>
					<entry namest="option" nameend="desc">
						Retrieves the error output produced by a BEEN core
						<glossterm>service</glossterm>.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>service</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.mandatory"/>
					</entry>
					<entry>
						Name of the service.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>from</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.lbound"/>
					</entry>
					<entry>
						Number of the first line to output.
					</entry>
				</row>
				<row>
					<entry>
						<emphasis role="strong"><option>to</option></emphasis><footnoteref
						linkend="been.user.cli.reference.csvcs.ubound"/>
					</entry>
					<entry>
						Number of the last line to output.
					</entry>
				</row>
				<row>
					<entry><option>numbers</option></entry>
					<entry>
						Output line numbers.
					</entry>
				</row>
				<row>
					<entry><emphasis role="strong"><option>STDOUT</option></emphasis></entry>
					<entry>
						<code>[number]</code><footnoteref
						linkend="been.user.cli.reference.csvcs.number"/><code> [line]</code>
					</entry>
				</row>
				
				<row><entry namest="action" nameend="desc"/></row>
			</tbody>
		</tgroup>
	</table>

	<xi:include href="../examples/csvcs.xml"/>
</sect2>