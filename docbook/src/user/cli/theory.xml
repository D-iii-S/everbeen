<?xml version="1.0" encoding="UTF-8"?>

<sect1
	xml:id="been.user.cli.theory"
	xmlns="http://docbook.org/ns/docbook"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:xml="http://www.w3.org/XML/1998/namespace"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:xi="http://www.w3.org/2001/XInclude"
	xsi:schemaLocation="http://docbook.org/ns/docbook ../../../docbook-5.0/xsd/docbook.xsd"
>
	<title>Basic Facts about CLI</title>
	
	<para>The Command Line Interface (CLI) is a minimalistic, yet very powerful alternative to the
	Tomcat-based web interface. It can be used to control the BEEN framework and perform all the
	tasks the web interface can do. There are even many areas where CLI can be better or more
	suitable.</para>
	
	<para>The CLI consists of two separate parts: a platform-independent BEEN
	<glossterm>service</glossterm> written in Java and a client application called
	<command>bcmd</command> written in C. The BEEN service communicates with the rest of the
	framework, executes commands obtained from the <command>bcmd</command> client and sends
	back a response when appropriate.</para>
	
	<para>Nearly all the business logic of the command line interface is implemented on the Java
	side. The <command>bcmd</command> application is designed to be as small and fast as possible.
	Its only purpose is to contact the Java counterpart using TCP, transfer comands and data from
	the user and print out the response. It supports both standard IPv6 and legacy IPv4
	connections.</para>
	
	<para>The client application can be compiled using the Intel Compiler or GCC on virtually
	any POSIX compliant operating system. The <code>compile-client</code> and
	<code>clean-client</code> Ant targets can be used to compile and remove the client binary.
	(Development Documentation, <xref linkend="been.devel.theory.compile"/>) They
	use GCC by default. The Java side service can run on any JVM and has no other requirements.
	It has to be started the same way as other BEEN core services. (<xref linkend="been.user.execution.csvcs"/>)</para>
	
	<para>The way CLI operates is inspired by the web interface and the nature of the HTTP
	protocol. The communication itself is stateless in the sense that every invocation of
	<command>bcmd</command> only performs one operation (called <emphasis>action</emphasis>)
	and there is no way to tell one client instance from the other. Multiple <command>bcmd</command>
	clients can be invoked in parallel. There is always only one instance of the Command Line Service
	in the BEEN framework to handle all the (possibly concurrent) client connections.</para>
	
	<para>Details about the protocol used by CLI are covered by Development Documentation,
	<xref linkend="been.devel.cli"/>. Source code and binaries for the <command>bcmd</command> client can be found
	in the <filename>been/native/client</filename> directory.</para>
</sect1>