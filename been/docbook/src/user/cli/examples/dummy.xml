<?xml version="1.0" encoding="UTF-8"?>

<sect3
	xml:id="been.user.cli.reference.dummy.examples"
	xmlns="http://docbook.org/ns/docbook"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:xml="http://www.w3.org/XML/1998/namespace"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:xi="http://www.w3.org/2001/XInclude"
	xsi:schemaLocation="http://docbook.org/ns/docbook ../../../../docbook-5.0/xsd/docbook.xsd"
>
	<title>Dummy Module Examples</title>
	
	<para>The dummy module sends back the action name and all the parameters and flags it
	receives. It shows how the command line is interpreted by the service.</para>
	
	<screen>$ <emphasis role="strong">./bcmd dummy MyGreatAction param1=val1 flag1 flag2 param2=val2</emphasis>
OUT: Action name: MyGreatAction
OUT: Writing all flags to stdout.
OUT:    flag1
OUT:    flag2
OUT: Writing all parameters to stdout.
OUT:    param1="val1"
OUT:    param2="val2"
ERR: Writing all flags to stderr.
ERR:    flag1
ERR:    flag2
ERR: Writing all parameters to stderr.
ERR:    param1="val1"
ERR:    param2="val2"
ERR: The same again, swapping the stream after each line.
OUT:    flag1
ERR:    flag2
OUT:    param1="val1"
ERR:    param2="val2"
OUT: Parameters to one output:
OUT:    param1="val1"
OUT:    param2="val2"
ERR: Flags to the other output.
ERR:    flag1
ERR:    flag2
OUT: And parameters again:
OUT:    param1="val1"
OUT:    param2="val2"
ERR: And flags again:
ERR:    flag1
ERR:    flag2
No blob received.</screen>
	
	<para>You can send a blob to the dummy module. It will receive the blob and count its size. In
	this example, the blob is sent directly from standard input. (The line separator counts as
	well.)</para>
	
	<screen>$ <emphasis role="strong">./bcmd -b- dummy MyGreatAction param1=val1 flag1 flag2 param2=val2</emphasis>
abcdefgh
OUT: Action name: MyGreatAction
OUT: Writing all flags to stdout.
OUT:    flag1
OUT:    flag2
<emphasis>[...]</emphasis>
ERR: And flags again:
ERR:    flag1
ERR:    flag2
Received a blob of length: 9</screen>
	
	<para>Using the <command>cat</command>, you can verify that standard and error output are used
	exactly as the output suggests. Lines of the standard output are grouped at the end due to
	buffering in the <command>cat</command> utility.</para>
	
	<screen>$ <emphasis role="strong">./bcmd dummy MyGreatAction param1=val1 flag1 flag2 param2=val2 | cat</emphasis>
ERR: Writing all flags to stderr.
ERR:    flag1
ERR:    flag2
<emphasis>[...]</emphasis>
OUT: Action name: MyGreatAction
OUT: Writing all flags to stdout.
OUT:    flag1
OUT:    flag2
<emphasis>[...]</emphasis>
OUT: And parameters again:
OUT:    param1="val1"
OUT:    param2="val2"
No blob received.</screen>
</sect3>