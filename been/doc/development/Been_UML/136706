format 59
"jythonscript" // been::src::cz::cuni::mff::been::task::jythonscript
  revision 1
  modified_by 2 "Administrator"
  // class settings
  //class diagram settings
  draw_all_relations default hide_attributes default hide_operations default show_members_full_definition default show_members_visibility default show_members_stereotype default show_members_multiplicity default show_members_initialization default member_max_width 0 show_parameter_dir default show_parameter_name default package_name_in_tab default class_drawing_mode default drawing_language default show_context_mode default auto_label_position default show_infonote default shadow default show_stereotype_properties default
  //use case diagram settings
  package_name_in_tab default show_context default auto_label_position default draw_all_relations default class_drawing_mode default shadow default show_stereotype_properties default
  //sequence diagram settings
  show_full_operations_definition default write_horizontally default class_drawing_mode default drawing_language default draw_all_relations default shadow default show_stereotype_properties default
  //collaboration diagram settings
  show_full_operations_definition default show_hierarchical_rank default write_horizontally default drawing_language default package_name_in_tab default show_context default draw_all_relations default shadow default show_stereotype_properties default
  //object diagram settings
   write_horizontally default package_name_in_tab default show_context default auto_label_position default draw_all_relations default shadow default show_stereotype_properties default
  //component diagram settings
  package_name_in_tab default show_context default auto_label_position default draw_all_relations default shadow default
  draw_component_as_icon default show_component_req_prov default show_component_rea default show_stereotype_properties default
  //deployment diagram settings
  package_name_in_tab default show_context default write_horizontally default auto_label_position default draw_all_relations default shadow default
  draw_component_as_icon default show_component_req_prov default show_component_rea default show_stereotype_properties default
  //state diagram settings
  package_name_in_tab default show_context default auto_label_position default write_trans_label_horizontally default show_trans_definition default draw_all_relations default shadow default
  show_activities default region_horizontally default drawing_language default show_stereotype_properties default
  //activity diagram settings
  package_name_in_tab default show_context default show_opaque_action_definition default auto_label_position default write_flow_label_horizontally default draw_all_relations default shadow default
  show_infonote default drawing_language default show_stereotype_properties default
  
  java_dir "cz/cuni/mff/been/task/jythonscript"
  java_package "cz.cuni.mff.been.task.jythonscript"
  classview 134402 "jythonscript"
    //class diagram settings
    draw_all_relations default hide_attributes default hide_operations default show_members_full_definition default show_members_visibility default show_members_stereotype default show_members_multiplicity default show_members_initialization default member_max_width 0 show_parameter_dir default show_parameter_name default package_name_in_tab default class_drawing_mode default drawing_language default show_context_mode default auto_label_position default show_infonote default shadow default show_stereotype_properties default
    //collaboration diagram settings
    show_full_operations_definition default show_hierarchical_rank default write_horizontally default drawing_language default package_name_in_tab default show_context default draw_all_relations default shadow default show_stereotype_properties default
    //object diagram settings
     write_horizontally default package_name_in_tab default show_context default auto_label_position default draw_all_relations default shadow default show_stereotype_properties default
    //sequence diagram settings
    show_full_operations_definition default write_horizontally default class_drawing_mode default drawing_language default draw_all_relations default shadow default show_stereotype_properties default
    //state diagram settings
    package_name_in_tab default show_context default auto_label_position default write_trans_label_horizontally default show_trans_definition default draw_all_relations default shadow default
    show_activities default region_horizontally default drawing_language default show_stereotype_properties default
    //class settings
    //activity diagram settings
    package_name_in_tab default show_context default show_opaque_action_definition default auto_label_position default write_flow_label_horizontally default draw_all_relations default shadow default
    show_infonote default drawing_language default show_stereotype_properties default
    class 200706 "JythonScript"
      visibility public 
      cpp_decl ""
      java_decl "${comment}${@}${visibility}${final}${abstract}class ${name}${extends}${implements} {
${members}}
"
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      
      comment "
<p>Executes Jython script using JythonInterpreter.</p>

<b>Task properties:</b><br>
<ul>
<li>{@value #script.filename}: <br>
		- filename of Jython script which should be executed.<br>
		- optional, default value is \"example.py\" <br>
</ul>

@author Jan Tattermusch
"
      classrelation 258434 // <generalisation>
	relation 258434 ---|>
	  a public
	    java "${type}"
	    classrelation_ref 258434 // <generalisation>
	  b parent class_ref 197250 // Job
      end

      attribute 287874 "SCRIPT_FILENAME"
	class_attribute const_attribute public explicit_type "String"
	init_value "=  \"script.filename\""
	cpp_decl ""
	java_decl "  ${comment}${@}${visibility}${static}${final}${transient}${volatile}${type} ${name}${value};
"
	php_decl ""
	python_decl ""
	idl_decl ""
	comment " Task property name for the name of script which should be executed. 
"
      end

      attribute 288002 "DEFAULT_SCRIPT_FILENAME"
	class_attribute const_attribute public explicit_type "String"
	init_value "=  \"example.py\""
	cpp_decl ""
	java_decl "  ${comment}${@}${visibility}${static}${final}${transient}${volatile}${type} ${name}${value};
"
	php_decl ""
	python_decl ""
	idl_decl ""
	comment " Default value of script.filename task property 
"
      end

      attribute 288130 "PYTHON_TASK_CONTEXT_NAME"
	class_attribute const_attribute public explicit_type "String"
	init_value "=  \"TASK\""
	cpp_decl ""
	java_decl "  ${comment}${@}${visibility}${static}${final}${transient}${volatile}${type} ${name}${value};
"
	php_decl ""
	python_decl ""
	idl_decl ""
	comment " Name of the context variable which will be injected in the script's namespace 
"
      end

      operation 639234 "JythonScript"
	public explicit_return_type ""
	nparams 0
	nexceptions 1
	  exception class_ref 137218 // TaskInitializationException
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${synchronized}${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Allocates a new <code>JythonScript</code> object.

@throws TaskInitializationException
"
      end

      operation 639362 "checkRequiredProperties"
	protected explicit_return_type "void"
	nparams 0
	nexceptions 1
	  exception class_ref 137346 // TaskException
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	java_annotation "@Override
"
	
	
	
      end

      operation 639490 "run"
	protected explicit_return_type "void"
	nparams 0
	nexceptions 1
	  exception class_ref 137346 // TaskException
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	java_annotation "@Override
"
	
	
	
      end
    end

    class 200834 "PythonTaskContext"
      visibility public 
      cpp_decl ""
      java_decl "${comment}${@}${visibility}${final}${abstract}class ${name}${extends}${implements} {
${members}}
"
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      
      comment "
<p>Represents task context for Python script. Acts as an adapter to task's interface.</p>

At the time, the adapter only forwards request to the associated task class.

@author Jan Tattermusch
"
      operation 639618 "PythonTaskContext"
	public explicit_return_type ""
	nparams 1
	  param inout name "task" type class_ref 136578 // Task
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${synchronized}${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Allocates a new adapter object for given task
@param task the adapted task object
"
      end

      classrelation 258562 // task (<unidirectional association>)
	relation 258562 --->
	  a role_name "task" private
	    java "  ${comment}${@}${visibility}${static}${final}${transient}${volatile}${type} ${name}${value};
"
	    classrelation_ref 258562 // task (<unidirectional association>)
	  b parent class_ref 136578 // Task
      end

      operation 639746 "getTasksPort"
	public return_type class_ref 137090 // TasksPortInterface
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Returns the tasksPort
@return the tasksPort
"
      end

      operation 639874 "getWorkingDirectory"
	public explicit_return_type "String"
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Returns the directory  where task can store its results (permanently)
@return directory name
"
      end

      operation 640002 "getTempDirectory"
	public explicit_return_type "String"
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Returns the temporary working directory for the task
@return directory name
"
      end

      operation 640130 "getTaskDirectory"
	public explicit_return_type "String"
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Returns the directory with the task package's content
@return directory name
"
      end

      operation 640258 "setLogLevel"
	public explicit_return_type "void"
	nparams 1
	  param inout name "level" type class_ref 129666 // LogLevel
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Sets the log level for logging to stdout
@param level 
"
      end

      operation 640386 "getLogLevel"
	public return_type class_ref 129666 // LogLevel
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
@return log level for logging to stdout
"
      end

      operation 640514 "logDebug"
	public explicit_return_type "void"
	nparams 1
	  param in name "message" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Logs a message on the DEBUG debug level
@param message
"
      end

      operation 640642 "logError"
	public explicit_return_type "void"
	nparams 1
	  param in name "message" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Logs a message on the ERROR debug level
@param message
"
      end

      operation 640770 "logFatal"
	public explicit_return_type "void"
	nparams 1
	  param in name "message" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Logs a message on the FATAL debug level
@param message
"
      end

      operation 640898 "logInfo"
	public explicit_return_type "void"
	nparams 1
	  param in name "message" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Logs a message on the INFO debug level
@param message
"
      end

      operation 641026 "logTrace"
	public explicit_return_type "void"
	nparams 1
	  param in name "message" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Logs a message on the TRACE debug level
@param message
"
      end

      operation 641154 "logWarning"
	public explicit_return_type "void"
	nparams 1
	  param in name "message" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Logs a message on the WARN debug level
@param message
"
      end

      operation 641282 "getLogger"
	public explicit_return_type "Logger"
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Retrieve logger that is used by the task.

@return logger used by the task.
"
      end

      operation 641410 "checkPointReached"
	public explicit_return_type "void"
	nparams 2
	  param in name "name" explicit_type "String"
	  param inout name "value" type class_ref 148226 // Serializable
	nexceptions 1
	  exception class_ref 137346 // TaskException
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}, ${t1} ${p1}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Signals that a checkpoint was reached by the task.

@param name name of the checkpoint
@param value value of the checkpoint
@throws TaskException if anything goes wrong.
"
      end

      operation 641538 "checkPointWait"
	public return_type class_ref 148226 // Serializable
	nparams 4
	  param in name "contextID" explicit_type "String"
	  param in name "taskID" explicit_type "String"
	  param in name "name" explicit_type "String"
	  param in name "timeout" explicit_type "long"
	nexceptions 1
	  exception class_ref 137346 // TaskException
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}, ${t1} ${p1}, ${t2} ${p2}, ${t3} ${p3}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Waits until a task reaches a checkpoint of specified type and returns its
value.
       
@param contextID context ID, if null then the context of the calling task
will be used.
@param taskID task ID
@param name checkpoint name
@param timeout number of milliseconds to wait for a checkpoint;
        <code>0</code> means that the call will not block and returns
        immediately
@return value of the checkpoint.
@throws TaskException if anything goes wrong.
"
      end

      operation 641666 "isPropertyNull"
	public explicit_return_type "boolean"
	nparams 1
	  param in name "name" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Test if given property is null or not. This can be used to test presence of a property, however cannot be used
in all cases since null may be valid property value.

@param name Name of the property to test.

@return true if property is null, false if property is not null.
"
      end

      operation 641794 "getTaskProperties"
	public explicit_return_type "Properties"
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Get all properties of the task.

@return all properties of the task.
"
      end

      operation 641922 "getTaskProperty"
	public explicit_return_type "String"
	nparams 1
	  param in name "name" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Returns the value of a task's property

@param name name of the task's property
@return value of the task's property or <code>null</code>
if the specified property is not found
"
      end

      operation 642050 "getTaskProperty"
	public explicit_return_type "String"
	nparams 2
	  param in name "name" explicit_type "String"
	  param in name "defaultValue" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}, ${t1} ${p1}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Get value of the Task's property.

@param name Name of the property to retrieve.
@param defaultValue Default value which will be used when property is not set (if it is null).

@return Value of the property of default value.
"
      end

      operation 642178 "getBooleanTaskProperty"
	public explicit_return_type "boolean"
	nparams 1
	  param in name "name" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Returns the value of a task property that can have boolean
values, e.g. \"yes\", \"true\" etc.
@param name name of the task property.
@return true if the value of the task property is was \"yes\" or \"true\".
"
      end

      operation 642306 "getTaskPropertyObject"
	public return_type class_ref 148226 // Serializable
	nparams 1
	  param in name "name" explicit_type "String"
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${t0} ${p0}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
@param name name of the task property.
@return the object value of the task property.
"
      end

      operation 642434 "exitSuccess"
	class_operation public explicit_return_type "void"
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Exits the task which successfully finished.
"
      end

      operation 642562 "exitError"
	class_operation public explicit_return_type "void"
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
Exits the task that finished with an error.

"
      end

      operation 642690 "getTaskDescriptor"
	public return_type class_ref 131074 // TaskDescriptor
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "
@return the task descriptor of this task.
"
      end

      operation 642818 "isRunningInWindows"
	public explicit_return_type "boolean"
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "

@return true if the task is running in Windows.
"
      end

      operation 642946 "isRunningInLinux"
	public explicit_return_type "boolean"
	nparams 0
	
	preserve_java_body_indent java_def "  ${comment}${@}${visibility}${final}${static}${abstract}${synchronized}${type} ${name}${(}${)}${throws}${staticnl}{
  ${body}}
"
	
	
	
	comment "

@return true if the task is running in Linux.
"
      end
    end
  end

  deploymentview 133506 "jythonscript"
    //deployment diagram settings
    package_name_in_tab default show_context default write_horizontally default auto_label_position default draw_all_relations default shadow default
    draw_component_as_icon default show_component_req_prov default show_component_rea default show_stereotype_properties default
    artifact 180866 "JythonScript"
      stereotype "source"
      java_src "${comment}
${package}
${imports}
import cz.cuni.mff.been.task.Job;
import cz.cuni.mff.been.task.TaskException;
import cz.cuni.mff.been.task.TaskInitializationException;
import org.python.util.PythonInterpreter;
${definition}"
      associated_classes
	class_ref 200706 // JythonScript
      end
    end

    artifact 180994 "PythonTaskContext"
      stereotype "source"
      java_src "${comment}
${package}
${imports}
import cz.cuni.mff.been.task.Task;
import cz.cuni.mff.been.hostruntime.TasksPortInterface;
import cz.cuni.mff.been.logging.LogLevel;
import cz.cuni.mff.been.task.TaskException;
import cz.cuni.mff.been.taskmanager.TaskDescriptor;
import java.io.Serializable;
import java.util.Properties;
import org.apache.log4j.Logger;
${definition}"
      associated_classes
	class_ref 200834 // PythonTaskContext
      end
    end
  end
end
